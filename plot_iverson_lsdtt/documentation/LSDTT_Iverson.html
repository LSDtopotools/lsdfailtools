<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<meta name="author" content="Simon M. Mudd, Boris Gailleton, School of Geosciences, University of Edinburgh (b.gailleton@sms.ed.ac.uk)">
<title>Documentation for transient pore pressure model for predicting slope failure constrained by remote sensing data</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Documentation for transient pore pressure model for predicting slope failure constrained by remote sensing data</h1>
<div class="details">
<span id="author" class="author">Simon M. Mudd, Boris Gailleton, School of Geosciences, University of Edinburgh (b.gailleton@sms.ed.ac.uk)</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#_purpose_and_scope">1.1. Purpose and Scope</a></li>
<li><a href="#_parameters">1.2. Parameters</a></li>
<li><a href="#_global_approach">1.3. Global approach</a></li>
<li><a href="#_model_output">1.4. Model output</a>
<ul class="sectlevel3">
<li><a href="#_for_a_single_simulation">1.4.1. For a single simulation</a></li>
<li><a href="#_for_monte_carlo_runs">1.4.2. For Monte-Carlo Runs</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_installation">2. Installation</a>
<ul class="sectlevel2">
<li><a href="#_the_code">2.1. The code</a></li>
<li><a href="#_compiling_the_model">2.2. Compiling the model</a></li>
<li><a href="#_installing_the_python_package">2.3. Installing the <code>python</code> package</a>
<ul class="sectlevel3">
<li><a href="#_optional_getting_a_python_environment_with_conda">2.3.1. Optional: Getting a python environment with conda</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_preprocessing_the_precipitation_data">3. Preprocessing the precipitation data</a></li>
<li><a href="#_running_the_model_for_a_single_soil_column">4. Running the model for a single soil column</a>
<ul class="sectlevel2">
<li><a href="#_simulation">4.1. Simulation</a></li>
<li><a href="#_model_outputs">4.2. Model outputs</a></li>
<li><a href="#_spatial_analysis">4.3. Spatial analysis</a></li>
</ul>
</li>
<li><a href="#_monte_carlo_analysis_to_constrain_the_model">5. Monte Carlo analysis to constrain the model</a>
<ul class="sectlevel2">
<li><a href="#_building_the_model">5.1. Building the model</a></li>
<li><a href="#_running_the_simulation">5.2. Running the simulation</a></li>
<li><a href="#_outputs">5.3. Outputs</a></li>
<li><a href="#_performance">5.4. Performance</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_introduction">1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This document describes the installation, running, and outputs of a slope stability model developed for combining remote sensing and rainfall data, built with the support of the European Space Agency (ESA) as part of a General Support Technology Programme (GTSP).</p>
</div>
<div class="sect2">
<h3 id="_purpose_and_scope">1.1. Purpose and Scope</h3>
<div class="paragraph">
<p>The GSTP project objective is to de-risk an operational methodology for determining the probability of slope failure (quantified using the 'factor of safety' approach) from rain events by developing a remotely sensed, rainfall driven landslide model that can be used in slope failure management. Therefore, the goal of the project is to develop a technical system designed to progress the current science of predicting rain-induced natural slope failure. It uses the concept of creating ‘virtual models’ of the physical environment and its characteristics from space observations which is used as a digital twin, on which various rainfall scenarios can be run to simulate the landscape behaviour.</p>
</div>
<div class="paragraph">
<p>The purpose of this document is document software developed in work package 4. This work package involves development of the landslide model, dividing the work in three different tasks: evaluation of model performances against a test site monitored in-situ; evaluation of the model performances on the same site solely using remote-sensing data; comparison of the results of the two approaches.</p>
</div>
<div class="paragraph">
<p>WP 4 aims to evaluate the performance of using remote sensing data to detect and anticipate landslide activity. Simulating slope failure involves a very high degree of uncertainty. A common approach consists in modelling steady state pore pressure in response to a threshold rainfall event to generate static safety maps. An alternative approach is to simulate the transient pore pressure to consider the time-evolution of the effect of precipitation and soil water content on slope stability. Such a model is highly case-dependent and requires a significant amount of expensive and time-consuming in-situ monitoring of soil hydraulic, mechanical and hydrogeologic features. The aim of this code is to use an already-monitored site to apply the <a href="https://www.doi.org/10.1029/2000WR900090">Iverson (2000)</a> model and compare the performance of the model constrained with in-situ data with the model constrained with remote-sensing derived data. The following documentation proposes a protocol to run the model from the different data sets and how to visualise and explore the outputs. The core of the modelling code is written in C++ to ensure computational efficiency. The automation for multiple simulations and I/O management is written in <code>python</code>.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Reference</div>
<div class="paragraph">
<p>Iverson, R.M., 2000. Landslide triggering by rain infiltration. <em>Water Resources Research</em>, 36, 1897–1910. <a href="https://doi.org/10.1029/2000WR900090" class="bare">https://doi.org/10.1029/2000WR900090</a></p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_parameters">1.2. Parameters</h3>
<div class="paragraph">
<p>A number of parameters are required by model:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The model needs precipitation data input to simulate the transient pore pressure evolution in the modeled soil column. This data has to be formated as <em>precipitation intensity</em> in length unit per time unit, preferably in seconds.</p>
</li>
<li>
<p>Hydraulic parameters from the modelled soil: the hydraulic diffusivity (<em>D0</em>), the Hydraulic conductivity (<em>Ksat</em>), the steady-state infiltration rates (<em>Iz/Kz</em>).</p>
</li>
<li>
<p>The depth of the water table and of the substrate.</p>
</li>
<li>
<p>The mechanical soil properties, soil cohesion (soil capacity to resist to motion), friction angle, weight of soil and weight of water.</p>
</li>
<li>
<p>The landscape property: topographic slope.</p>
</li>
<li>
<p>The model resolution.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_global_approach">1.3. Global approach</h3>
<div class="paragraph">
<p>For a specific site, neither remote-sensed nor in-situ data would constrain discrete values for each parameters. We therefore run the model using a Monte Carlo sampling schemes on range of possible parameters. In the case of testing the model against in-situ data, ranges of parameters are determined by different mechanical and hydraulic tests. Calibration is achieved with field observation of ground motion. In the case of testing the model against remote-sensed constraints, the ranges of parameters are suggested from general ranges in the literature and calibrating failures are recorded from InSAR data that detect ground motion.</p>
</div>
</div>
<div class="sect2">
<h3 id="_model_output">1.4. Model output</h3>
<div class="paragraph">
<p>The main applicable output of the model is a factor of safety (FS) for a soil columns that determines when the slope is subjected to fail. This factor of safety is an absolute value defined by equation 18 in Iverson (2000). It suggests failure when the FS is <code>≤ 1</code>. This factor of safety is calculated for a given time and depth of the modelled soil column, driven by a rainfall time series.</p>
</div>
<div class="sect3">
<h4 id="_for_a_single_simulation">1.4.1. For a single simulation</h4>
<div class="paragraph">
<p>The models outputs table-like <code>csv</code> files which include the factor of safety and the pore pressure as a time series.  It also can output factor of safety maps for a given time and a given Digital Elevation Model (DEM) to identify the area at risk.</p>
</div>
</div>
<div class="sect3">
<h4 id="_for_monte_carlo_runs">1.4.2. For Monte-Carlo Runs</h4>
<div class="paragraph">
<p>We have developed <code>python</code> tools to control the Monte-Carlo simulations, where parameters are selected from a probability distribution. Because of the significant number of runs involved, all the <code>csv</code> outputs are concatenated into a <code>hdf5</code> data file, which is easily readable from <code>python</code>. Time series of factor of safety for all the simulations can be synthesised into a distribution of detected landslide failures as a function of time. These can be correlated with calibration data (e.g. observed or measured ground motion from InSAR or in-situ monitoring) to determine "successful" simulations. Once "successful" runs have been defined, visualisation of the parameter sets that leaded to failure detection can be used to constrain the model.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installation">2. Installation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All the code has been developed, tested and run on <code>UNIX</code> platform. It requires uses of a C++ compiler and a <code>python 3</code> environment.</p>
</div>
<div class="sect2">
<h3 id="_the_code">2.1. The code</h3>
<div class="paragraph">
<p>The code has been developed within the open-source <a href="https://lsdtopotools.github.io/">LSDTopoTools</a> research software suite. The deliverable has been packaged into a <code>zip</code> file with the final report and contains all the code required for running the analysis.</p>
</div>
</div>
<div class="sect2">
<h3 id="_compiling_the_model">2.2. Compiling the model</h3>
<div class="paragraph">
<p>The C++ model is in the subdirectory <code>cpp_model</code>. You must navigate into this directory and compile the code.</p>
</div>
<div class="paragraph">
<p>Compilations can be done with the <code>GNU g++</code> compiler, installed in most <code>UNIX</code> and <code>IOS</code> distributions. The <code>Analysis_driver</code> folder in the root folder contains a <code>make</code> file that automates the compilation. Navigate to the directory where this make file in a terminal window and compile with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ make -f iverson_model.make</code></pre>
</div>
</div>
<div class="paragraph">
<p>It generates an executable file named <code>iverson_model.exe</code> in the same folder and is ready to be used.</p>
</div>
</div>
<div class="sect2">
<h3 id="_installing_the_python_package">2.3. Installing the <code>python</code> package</h3>
<div class="paragraph">
<p>The <code>python</code> package which we use to manage our simulations (called <code>iverson_python</code>) can be installed in any <code>python</code> environment satisfying the following dependencies: <code>numpy</code>, <code>scipy</code>, <code>pandas</code>, <code>pytables</code> and <code>matplotlib</code>. The package is downloaded with the <code>github</code> repository in the folder <code>python_tools</code> and can be installed in the <code>python</code> environment using <code>pip install .</code> in the <code>python_tools folder</code>.</p>
</div>
<div class="sect3">
<h4 id="_optional_getting_a_python_environment_with_conda">2.3.1. Optional: Getting a python environment with conda</h4>
<div class="paragraph">
<p>If the user does not have <code>python</code> on their system, they will need to install an environment for the <code>python</code> scripts. We have written this documentation assuming use of the <code>miniconda</code> environment manager. <a href="https://docs.conda.io/en/latest/miniconda.html">Miniconda</a> is an easy, clean and open-source solution. It can be downloaded from <a href="https://repo.continuum.io/miniconda/">here</a>. Choose any <code>python 3</code> installer compatible with your operating system. Once installed it offers a clean method to manage different <code>python</code> environments with different combinations of packages installed. Once install, run the following command to create an environment:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ conda create -n iverson_python</code></pre>
</div>
</div>
<div class="paragraph">
<p>This creates a <code>python</code> environment named <code>iverson_python</code>. Whenever you start a session you can activate this environment with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">conda activate iverson_python</code></pre>
</div>
</div>
<div class="paragraph">
<p>When the environment has been successfully activated if <code>(iverson_python)</code> is stated at the beginning of the command line. After the first activation, the dependencies can be installed with:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">conda install -c conda-forge numpy scipy pandas pytables matplotlib</code></pre>
</div>
</div>
<div class="paragraph">
<p>This only needs to be run once. All installed packages will remain available when you reactivate the environment.</p>
</div>
<div class="paragraph">
<p>After you have done this, you into the <code>python_tools</code> directory and run the command</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">$ pip install .</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_preprocessing_the_precipitation_data">3. Preprocessing the precipitation data</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Precipitation data drives the transient pore pressure model. The data can be from local instruments, global datasets or simulations. The data needs to be in a <code>csv</code> (Comma-separated-values) files containing the following columns:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-csv" data-lang="csv">duration_s,intensity_mm_sec
...,...</code></pre>
</div>
</div>
<div class="paragraph">
<p>Where <code>duration_s</code> represent a duration in seconds and <code>intensity_mm_sec</code> is the corresponding precipitation intensity in mm per seconds. The intensity column usually requires unit conversion from common datasets. For example, <code>15 mm</code> of rain in 3 hours becomes <code>15/10800=0.001389 mm/second</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_running_the_model_for_a_single_soil_column">4. Running the model for a single soil column</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following instructions describe how to run the code and visualise the output for a single soil column simulated.</p>
</div>
<div class="sect2">
<h3 id="_simulation">4.1. Simulation</h3>
<div class="paragraph">
<p>Once compiled, the C++ executable can be run from the command-line and need to be directed to a <strong>parameter file</strong>.
The <strong>parameter file</strong> is a text file containing a series of values telling the C++ model what parameters to use.
The parameter files can be written as follow in a text file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-parameter file" data-lang="parameter file"># This is a parameter file for the Iverson model
# Lines beginning with # are comments and are not read by the software

# The read path is where the data will be read
read path: /path/to/file/
# The write path is where the data will be written
write path: /path/to/file/
# Write fname is the prefix of the written files
write fname: 20150711_20160809_filtered

# Name of the csv file containing the preprocessed precipitation data
rainfall_csv: preprocessed_data.csv

# Parameters for the models
# See documentation for units
D_0: 0.000005
K_sat: 0.00000005
d: 2
Iz_over_K_steady: 0.2
alpha: 0.51
friction_angle: 0.38
cohesion: 12000
weight_of_soil: 19000
weight_of_water: 9800
depth_spacing: 0.1
n_depths: 35


#end of file</code></pre>
</div>
</div>
<div class="paragraph">
<p>The executable needs to know the path and the name of the parameter file to read them correctly.
From a terminal in the folder containing the compiled executable, the following command will run the model:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-console" data-lang="console">./iverson_model.exe /path/to/the/parameter/file/ name_of_the_parameter_file.param</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that the parameter file is a text file and can be saved with any extensions (e.g., <code>.param</code>, <code>.driver</code>). The following parameters can be provided to the model.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Parameter</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Description</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Units</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">rainfall_csv</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the name of the preprocessed <code>csv</code> file with the rainfall time series.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">none</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">D_0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hydraulic diffusivity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">m<sup>2</sup>/s</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">K_sat</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hydraulic conductivity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">m/s</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Depth of water table</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">metres</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Iz_over_K_steady</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Steady-state infiltration rate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">dimensionless</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">alpha</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Topographic slope</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">radians</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">friction_angle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Critical friction angle for the soil</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">radians</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">cohesion</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Soil cohesion</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pa</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">weight_of_soil</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Volumic weight of the soil</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">kg/(s*m<sup>2</sup>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">weight_of_water</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Columic weight of the water</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">kg/(s*m<sup>2</sup>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">depth_spacing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Model resolution</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">metres</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">n_depths</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Number of discretisation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">nondimensional integer</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_model_outputs">4.2. Model outputs</h3>
<div class="paragraph">
<p>The C++ model produces 6 <code>csv</code> files containing the evolution of various characteristics of the soil column.
Four csv files contain the time series of the different components of the Factor of Safety (FS) functions of time and depth.
The independent components of FS are described in equations 28 (a,b and c) of Iverson (2000) and their time series are in files <code>XXX_time_series_depth_Fcomp.csv</code> , where <code>XXX</code> is the <code>write fname</code> in the parameter file and <code>Fcomp</code> the corresponding component.
These files have the extensions <code>F_c.csv</code>, <code>F_f.csv</code>, <code>F_w.csv</code>, <code>FS.csv</code>. The Factor of Safety is in the last of these files.
There is also a file with the extension <code>Psi.csv</code> which contains the pressure head (in metres).</p>
</div>
<div class="ulist">
<ul>
<li>
<p>All of these files have the depths below the surface in the first column</p>
</li>
<li>
<p>All subsequent columns the value of the parameter in question (e.g., FS, or Psi) at a single time.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The final file has the extension <code>_potfailfile.csv</code>.
This has 4 columns. The first is the time of failure, the second is the minimum depth of failure (i.e., the minimum depth where FS &lt; 1) and the third is the maximum depth of failure (the maximum depth where FS &lt; 1). The last column is simply 1 if there is failure.
Data of -9999 with no other rows only indicates that the slope never fails.</p>
</div>
</div>
<div class="sect2">
<h3 id="_spatial_analysis">4.3. Spatial analysis</h3>
<div class="paragraph">
<p>Each model run predicts the evolution of the factor of safety for a single soil column through time. Once a time has been identified, a raster can be fed to the model to generate a risk map. The raster will be downsampled, the slope will be calculated and factor of safety is calculated for each soil column. The following lines can be added to the parameter file to enable the spatial analysis:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-parameter file" data-lang="parameter file">full_1D_output: false
spatial_analysis: true
reload_alpha: false
resample_slope: true
resample_slope_res: 6
topo_raster: insar_area_PP
polyfit_window_radius: 1
n_threads: 4
time_of_spatial_analysis: 19818000</code></pre>
</div>
</div>
<div class="paragraph">
<p>Where:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>full_1D_output: false</code> disables printing of full time series information of the entire depth profile.</p>
</li>
<li>
<p><code>spatial_analysis: true</code> enables the analysis.</p>
</li>
<li>
<p><code>reload_alpha: false</code> enables (true) or disables (false) the reloading of previously calculated slope map.</p>
</li>
<li>
<p><code>resample_slope</code> determines if the raster is down-sampled before slope calculation (for speed purposes) with a new resolution.</p>
</li>
<li>
<p><code>resample_slope_res</code> is the resolution of the resampled DEM</p>
</li>
<li>
<p><code>topo_raster</code> is the name of the DEM/DTM raster without its extension (it has to be an ENVI bil file).</p>
</li>
<li>
<p><code>polyfit_window_radius</code> is radius of the polynomial fitting window that is used to calculate slope gradient.</p>
</li>
<li>
<p><code>n_threads</code> is the number of threads to use for multithreading.</p>
</li>
<li>
<p><code>time_of_spatial_analysis</code> is the selected time in the precipitation time series. It produces a raster with the factor of safety for each soil column.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note that most users will want to first run a 1D analysis to select the time of interest to produce the spatial map of the Factor of Safety (FS).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_monte_carlo_analysis_to_constrain_the_model">5. Monte Carlo analysis to constrain the model</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Monte-Carlo analysis requires running a large (&gt;10000) number of simulations in order to produce representative results. The software uses <code>python</code> as scripting language to automate the simulations and save/load/process the data. The installation section explains how to set up a <code>python</code> environment. The environment must be used to run python scripts. The Monte Carlo analysis is designed to define ranges of each of the 9 parameters in the model. It does this by running simulations that randomly sample these parameters within a predifined parameter space, and testing the resulting factor of safety time series against observed ground motion. The advantage is that running all the combinations would take several years of computation, whereas random sampling covers most of the spectrum in significantly less simulations.</p>
</div>
<div class="sect2">
<h3 id="_building_the_model">5.1. Building the model</h3>
<div class="paragraph">
<p>The model needs to be initialised with ranges of parameters as follow:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">from plot_iverson_lsdtt import MonteCarloIverson

my_simulation = MonteCarloIverson(range_D_0 = [1e-8,1e-4], range_Ksat = [1e-11,1e-6],range_Iz_over_K_steady = [0.1,1.5], range_d = [0.5,3], range_alpha = [0.1,1.5], range_friction_angle = [0.1,1],
        range_cohesion = [100,5000], range_weight_of_soil = [15000,30000], range_weight_of_water = [9800,9800], depth_spacing = 0.1, n_depths = 35, OMS_D_0 = 1.,OMS_Ksat = 1., OMS_d = 0.1 , OMS_alpha = 0.1, OMS_friction_angle = 0.05, OMS_cohesion = 100,OMS_weight_of_soil = 500,OMS_weight_of_water = 100, OMS_Iz_over_Kz = 0.1,
        program = "", path_to_rainfall_csv = "./", rainfall_csv = "preprocessed_data.csv", path_to_root_analysis = "./", suffix = 0)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Most of the parameters are self-explanatory: <code>range_X</code> define the minimum and maximum values for the corresponding parameter; <code>OMS_X</code> define the precision step of the random sampling (<code>D_0</code> and <code>Ksat</code> are in log space); <code>n_depths</code> defines the number of depth to be investigated, <code>program</code> points to the path+name of the <code>exe</code> file (compiled model); <code>path_to_rainfall_csv</code> and <code>rainfall_csv</code> points to the rainfall csv file and finally <code>path_to_root_analysis</code> points to the root directory of the analysis (many subdirectories may be created below). The parameter <code>suffix</code> is set to <code>0</code> if you enter the full <code>csv</code> filename with extension. If this is <code>1</code> it assumes the extension is <code>csv</code>. Of the parameters, there should be no range for the <code>weight_of_water</code> as this is just the density of water times gravitational acceleration and does not vary.</p>
</div>
</div>
<div class="sect2">
<h3 id="_running_the_simulation">5.2. Running the simulation</h3>
<div class="paragraph">
<p>To run the simulation, simply add the following line of code on the script above that contains the ranges:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">my_simulation.run_MonteCarlo(failure_time_s = 540460, n_proc = 4, n_tests = 1000)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Where <code>failure_time_s</code> is an optional feature if a specific time is chased: it would add a data to the output expressing the time of first failure compare to that one (it does not affect the other outputs); <code>n_proc</code> defines the number of processors to be used in parallel: the code is pleasingly parallel which means all the tasks are independent from each others and can be run at the same time; <code>n_test</code> defines the number of simulations to run. For example, we ran 70000 simulation on 24 cores on our server with a broad range of parameter taken from literature with the following script:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">from plot_iverson_lsdtt.sensitivity_analysis import MonteCarloIverson

program = "/home/s1675537/PhD/DataStoreBoris/dev_LSD/LSDTT_Development/src/Analysis_driver/Iverson.exe"
MySim = MonteCarloIverson(program = program, path_to_rainfall_csv = "./", rainfall_csv = "preprocessed_data.csv", path_to_root_analysis = "./test_from_in_situ/", depth_spacing = 0.1,
	n_depths = 32, range_D_0 = [5e-7,5e-5], range_Ksat = [5e-10,5e-7],range_Iz_over_K_steady = [0.1,0.8], range_d = [1,3], range_alpha = [0.5,1.1], range_friction_angle = [0.3,0.5],
        range_cohesion = [15500,16500], range_weight_of_soil = [15000,20000], range_weight_of_water = [9800,9800],
        OMS_D_0 = 0.05,OMS_Ksat = 0.05, OMS_d = 0.05, OMS_alpha = 0.05, OMS_friction_angle = 0.03, OMS_cohesion = 100,OMS_weight_of_soil = 100,OMS_weight_of_water = 100, OMS_Iz_over_Kz = 0.05)

MySim.run_MonteCarlo(failure_time_s = 0, n_proc = 24, n_tests = 200000, save_to_db = True)</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_outputs">5.3. Outputs</h3>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
While the model is running, a significant amount of temporary output data will be generated. This is due to the fact that the model write some results to the disk before appending them every <code>n_proc</code> runs in a final file. Do not delete it as the software does it automatically.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The most important output is a <code>csv</code> file (that can be opened by any common software) named <code>failure_global.csv</code>. It contains a synthesis of each simulation with (i) the parameters tested and (ii) the time of failure. It allowed us to produce the histograms of time of failure and isolate successful parameters.</p>
</div>
<div class="paragraph">
<p>Another file is generated containing more details about each run (time series): because of the significant amount of data produced by the simulations, the software uses the <code>hdf5</code> data structure via <code>pandas</code> to manage it. We strongly advice to use <code>pandas</code> in <code>python</code> to explore the data. One can open a file with the list of keys as follow:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import pandas as pd

glob = pd.HDFStore("test_from_in_situ/db_of_failure.hd5")
print(glob.keys())
glob.close()</code></pre>
</div>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
It will display a lot of keys and might take time&#8230;&#8203;
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To access the dataframe of one single run and potentially save it for more data mining:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import pandas as pd

glob = pd.HDFStore("test_from_in_situ/db_of_failure.hd5")
df = glob["name_of_my_key"]
df.to_csv("/path/plus/name.csv", index = False)
glob.close()</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_performance">5.4. Performance</h3>
<div class="paragraph">
<p>Assessing performance can be difficult: due to the high number of simulations run within the Monte Carlo framework, there are many unsucessful simulations, but the general pattern still highlights the failure quite well. The following code produces first order performance metrics based on the file produced by the <code>python</code> package. It takes the time of observed failures and an interval to calculate the ratio of successful simulations. It can be used to isolate the successful combination of parameters that lead to real failures.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-python" data-lang="python">import pandas as pd

# Load the dataframe
df = pd.read_csv("failure_global.csv")

# Gater the interval
sttest = []
endtt = []
interval = 3600 * 24 * 5 # 5 days to seconds
for i in [1.1e7,1.48e7,1.85e7,2e7]: # this array contains the times of observed failure in seconds
	sttest.append(i - interval)
	endtt.append(i + interval)

# number of elements
n_total = df.shape[0]

# Sorting my failure times to isolate the successful ones
lsofdf = []
for i in range(len(sttest)):
	lsofdf.append(df[(df["first_failure"]&gt;sttest[i]) &amp; (df["first_failure"]&lt;endtt[i])] )
QDF = pd.concat(lsofdf)

# printing the results

print("Total number of run: %s " %(n_total))
print("Total number of successful run: %s " %(QDF.shape[0]))
print("Total number of run showing constant failure: %s " %(df[df["first_failure"]==0].shape[0]))
print("Ratio of success: %s " %(QDF.shape[0]/n_total ))
print("Ratio of success ignoring 0: %s " %( QDF.shape[0] / ( df[df["first_failure"]!=0].shape[0]) ) )</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2019-06-12 09:53:49 UTC
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains('stemblock')) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>